(()=>{"use strict";var e=document.querySelector(".profile__edit-button"),t=document.querySelector(".profile__add-button"),n=document.querySelector(".popup_type_edit"),r=document.querySelector(".profile__title"),o=document.querySelector(".profile__description"),c=document.forms.edit_profile,a=c.elements.name,l=c.elements.description,d=document.querySelectorAll(".popup"),u=document.querySelector(".popup_type_new-card"),i=document.querySelector(".popup_type_image"),s=document.forms["new-place"],p=document.querySelector(".places__list"),m=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0);function _(e,t){y(i,f,k);var n=document.querySelector(".popup__image");n.src=e,n.alt=t,document.querySelector(".popup__caption").textContent=t}function y(e,t,n){e.classList.add("popup_is-opened"),e.addEventListener("click",n),document.addEventListener("keydown",t)}function v(e,t,n){e.classList.remove("popup_is-opened"),e.removeEventListener("click",n),document.removeEventListener("keydown",t)}function f(e){var t=document.querySelector(".popup_is-opened");"Escape"===e.key&&t&&v(t)}function k(e){(e.currentTarget===e.target||e.target.classList.contains("popup__close"))&&v(e.currentTarget)}m.querySelector(".card__delete-button"),m.querySelector(".card__image"),m.querySelector(".card__like-button");function q(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=o.querySelector(".card__delete-button"),a=o.querySelector(".card__image"),l=o.querySelector(".card__like-button");return o.querySelector(".card__title").textContent=e.name,a.src=e.link,a.alt=e.alt,c.addEventListener("click",(function(){return t(o)})),l.addEventListener("click",(function(){return n(l)})),a.addEventListener("click",(function(){return r(a.src,a.alt)})),o}function S(e){e.classList.toggle("card__like-button_is-active")}function g(e){e.remove()}s.addEventListener("submit",(function(e){e.preventDefault();var t=q({name:s.elements["place-name"].value,link:s.elements.link.value,alt:""},g,S,_);p.prepend(t),s.reset(),v(u)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Картинка с изображением гор Архыза."},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Картинка с изображением зимней реки."},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Типичный район с типичной хрущевской застройкой."},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Вулкан."},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Железная дорога."},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Берега озера Байкал."}].forEach((function(e){var t=q(e,g,S,_);p.append(t)})),e.addEventListener("click",(function(){y(n,f,k),a.value=r.textContent,l.value=o.textContent})),t.addEventListener("click",(function(){y(u,f,k)})),d.forEach((function(e){e.classList.add("popup_is-animated")})),c.addEventListener("submit",(function(e){e.preventDefault(),r.textContent=a.value,o.textContent=l.value,v(n)}))})();